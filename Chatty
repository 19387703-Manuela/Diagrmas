3. Propuesta de Sequence Diagram para Society Management

Ahora, para Task 5(b), tienes que hacer un sequence diagram de la misma operación y mismo componente.

Te propongo modelar el escenario “Union Officer aprueba o rechaza una solicitud” con un fragmento alt (para cubrir aprobación y rechazo en un único diagrama, como piden que uses frames).

3.1. Lifelines recomendadas

En Papyrus, crea lifelines con estos nombres (instancias):

:UnionOfficerUI (opcional, boundary externo, puede ser parte de otro componente pero se ve bien en el flujo).

:SocietyManagementService

:SocietyRepository

:SocietyApplication

:Society (se crea solo en la rama de aprobación)

:NotificationAdapter

:PortalPublisherAdapter (solo en la rama de aprobación)

3.2. Mensajes básicos

UnionOfficerUI -> SocietyManagementService

approveOrRejectApplication(appId, officerId, decision, reason)
(o separa en approveApplication y rejectApplication, como prefieras; a efectos de diagrama es parecido).

SocietyManagementService -> SocietyRepository

findApplicationById(appId)

SocietyRepository -> SocietyApplication

(devuelve la instancia, puede ser un mensaje de retorno normal).

A partir de aquí metes un Combined Fragment alt que cubra el resto del flujo:

Parte 1 del alt – [decision == APPROVE]

Guard: [decision == APPROVE]
4. SocietyManagementService -> SocietyApplication

markApproved(officerId)

SocietyManagementService -> SocietyRepository

saveApplication(app)

SocietyManagementService -> Society (mensaje de creación)

createSociety(app) // constructor o activateFromApplication

SocietyManagementService -> SocietyRepository

saveSociety(soc)

SocietyManagementService -> NotificationAdapter

notifyApproval(app)

SocietyManagementService -> PortalPublisherAdapter

publishSociety(soc)

Mensaje de retorno hacia UnionOfficerUI indicando éxito.

Parte 2 del alt – [decision == REJECT]

Guard: [decision == REJECT]
4'. SocietyManagementService -> SocietyApplication
- markRejected(officerId, reason)
5'. SocietyManagementService -> SocietyRepository
- saveApplication(app)
6'. SocietyManagementService -> NotificationAdapter
- notifyRejection(app)
(no se crea Society, no se llama a PortalPublisherAdapter)
7'. Retorno a UnionOfficerUI indicando rechazo registrado.

Con esto cubres:

La lógica de negocio interna del componente.

La interacción con almacenamiento y notificaciones como parte del microservicio.

Ambos escenarios (approve / reject) en un solo sequence diagram usando alt, tal y como pide la especificación.
